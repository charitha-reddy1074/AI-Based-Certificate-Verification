# Database Connection and Image Saving Fixes

## Completed Tasks
- [x] Add imageUrl field to certificates table in shared/schema.ts
- [x] Update insertCertificateSchema to include imageUrl
- [x] Fix TypeScript errors in server/routes.ts for query parameters
- [x] Update shared/routes.ts to accept imageUrl in issueCertificate endpoint
- [x] Create TODO.md to track progress

## Remaining Tasks
- [ ] Test database connection with DATABASE_URL environment variable
- [ ] Verify image URLs are properly saved when issuing certificates
- [ ] Update client-side code to upload images and pass imageUrl when issuing certificates
- [ ] Run database migrations if needed

## Notes
- The system uses PostgreSQL when DATABASE_URL is set and NODE_ENV is production
- Falls back to in-memory storage otherwise
- Images are uploaded to IPFS, but URLs weren't being stored in database
- Added imageUrl field to certificates table to store IPFS URLs
